{"version":3,"file":"static/webpack/static\\development\\pages\\JobsPage.js.bf276be494c010cf0769.hot-update.js","sources":["webpack:///./component/JobsCards.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { ClipLoader } from \"react-spinners\";\r\n\r\n\r\nclass JobsCards extends Component {\r\n\r\n  state = {\r\n    jobsCardArr: [],\r\n    hasMore: true,\r\n    limit: 12,\r\n    pageNum: 1,\r\n    isLoading: false,\r\n    itemId: '',\r\n    jobId:\"\"\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.loadMoreJobs()\r\n  }\r\n  changeInputHandle=(name,value)=>{\r\n    this.setState({\r\n      [name]:value\r\n    })\r\n  }\r\n  pressOnEnter=(event)=>{\r\n    if(event.keyCode === 13 || event.key === \"Enter\"){\r\n      if(this.state.jobId){\r\n        this.setState({\r\n          pageNum:1,\r\n          jobsCardArr:[]\r\n        },()=>{\r\n          this.loadMoreJobs()\r\n        })\r\n        \r\n\r\n      }\r\n    }\r\n  }\r\n  loadMoreJobs = () => {\r\n    if (this.state.isLoading) {\r\n      return\r\n    }\r\n    if (!this.state.hasMore) {\r\n      return\r\n    }\r\n    this.setState({\r\n      isLoading: true\r\n    })\r\n    axios.get(`https://api.for9a.com/opportunity/filter?${this.state.jobId.trim() !==\"\" ?'id='+this.state.jobId :'id='}&count=${this.state.limit}&page=${this.state.pageNum}&type=29`).then(res => {\r\n      console.log(\"reeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",res.data.result) \r\n    if (res.data.result.items.length < this.state.limit) {\r\n        var hasMoreStatus = false\r\n      } else {\r\n        var hasMoreStatus = true\r\n      }\r\n      this.setState({\r\n        jobsCardArr: [...this.state.jobsCardArr, ...res.data.result.items],\r\n        hasMore: hasMoreStatus,\r\n        pageNum: this.state.pageNum + 1,\r\n        isLoading: false\r\n      })\r\n      // this.setState({\r\n      //   jobsCardArr:res.data.result.items\r\n      // })\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  itemInformation = (item) => {\r\n    this.setState({\r\n      itemId: item.id\r\n    })\r\n    this.props.selectCard(item)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\" style={{ padding: \"0px\", minHeight: \"680px\", marginTop: \"15px\", backgroundColor: \"#fff\" }}>\r\n        <header style={{ backgroundColor: \"#eb751d\", minHeight: \"30px\", textAlign: \"right\" }}>\r\n          <p style={{ color: '#fff', padding: \"4px\" }}>الوظائف</p>\r\n        </header>\r\n        <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\" style={{ height: \"660px\" }}>\r\n          <div className=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\" style={{padding:\"0px\"}}>\r\n            <input class=\"form-control form-control-sm\" type=\"text\" style={{ margin: \"15px 0px\" }} onKeyPress={this.pressOnEnter} placeholder=\".form-control-sm\" onChange={()=>this.changeInputHandle(\"jobId\",event.target.value)} />\r\n          </div>\r\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\" style={{ height: \"650px\", overflowY: \"auto\" }}>\r\n            <InfiniteScroll\r\n              pageStart={0}\r\n              initialLoad={false}\r\n              loadMore={() => {\r\n                this.loadMoreJobs()\r\n              }}\r\n              hasMore={this.state.hasMore}\r\n              loader={\r\n                <div style={{ textAlign: \"center\" }}><ClipLoader color=\"#339eba\" loading={this.state.isLoading} /></div>\r\n              }\r\n              useWindow={false}\r\n            >\r\n              {this.state.jobsCardArr.map(item => {\r\n                return (\r\n                  <div key={Math.random()} className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\" onClick={() => { this.itemInformation(item) }}\r\n                    style={{\r\n                      padding: \"0px\",\r\n                      marginTop: \"15px\",\r\n                      cursor: \"pointer\",\r\n                      border: \"1px solid #ccc\",\r\n                      boxShadow: this.state.itemId == item.id ? \"#339eba 0px 0px 10px 0px\" : 'rgb(88,87,87)'\r\n                    }}>\r\n                    <div className=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\" style={{ minHeight: \"70px\", padding: \"0px\", backgroundImage: `url(${item.images.sm})`, backgroundRepeat: \"no-repeat\", backgroundSize: \"cover\", backgroundPosition: 'center' }}>\r\n                    </div>\r\n                    <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9\" style={{ minHeight: \"70px\" }}>\r\n\r\n                      <div className=\"col-xs-2 col-sm-2 col-md-2 col-lg-2\" style={{ textAlign: \"center\", padding: \"10px 0px\" }}>\r\n                        {item.location.title}\r\n                      </div>\r\n                      <div className=\"col-xs-10 col-sm-10 col-md-10 col-lg-10\" style={{ padding: \"10px 0px\", textAlign: \"right\" }}>\r\n                        {item.title}\r\n                      </div>\r\n                      <div className=\"col-xs-2 col-sm-2 col-md-2 col-lg-2\" style={{ textAlign: \"center\", padding: \"0px\" }}>\r\n                        {`# ${item.id}`}\r\n                      </div>\r\n                      <div className=\"col-xs-10 col-sm-10 col-md-10 col-lg-10\" style={{ padding: \"0px\", textAlign: \"right\" }}>\r\n                        {`اخر موعد للتقديم : ${item.deadline}`}\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                )\r\n              })}\r\n\r\n            </InfiniteScroll>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default JobsCards"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AASA;AACA;AACA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAQA;;;;AApIA;AACA;AAsIA;;;;A","sourceRoot":""}